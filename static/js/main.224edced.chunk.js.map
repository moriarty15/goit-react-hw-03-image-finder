{"version":3,"sources":["App.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Modal/Modal.js","Components/Loader/Loader.js","Components/fetchImages.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","searchItem","e","setState","currentTarget","value","toLowerCase","searchButton","preventDefault","trim","props","onSubmit","className","style","SearchForm","this","type","SearchForm_button","SearchForm_button_label","onChange","SearchForm_input","placeholder","Component","ImageGalleryItem","src","ImageGalleryItem_image","alt","ImageGallery","images","length","map","id","webformatURL","Button","onClick","modalRoot","document","getElementById","Modal","closeModalByClickESC","code","onClose","handleClickBackdrop","target","window","addEventListener","removeEventListener","createPortal","Overlay","width","heigth","LoaderFoo","color","height","timeout","fetchImages","page","fetch","then","r","json","App","showModal","showSpiner","large","handleFormSubmit","clickLoadMore","prevState","fetchRequest","hit","total","alert","arrEx","hits","largeImageURL","scrollTo","top","documentElement","scrollHeight","behavior","catch","findImg","findImgforModal","find","prevProps","centred","ReactDOM","render"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,IAAM,iBAAiB,QAAU,uB,mBCAnDD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,uBAAyB,iDAAiD,yBAAyB,mD,mBCAnLD,EAAOC,QAAU,CAAC,OAAS,yB,8ICINC,E,4MACnBC,MAAQ,CACNC,MAAO,I,EAOTC,WAAa,SAACC,GACZ,EAAKC,SAAS,CAAEH,MAAOE,EAAEE,cAAcC,MAAMC,iB,EAE/CC,aAAe,SAACL,GACdA,EAAEM,iBAC8B,KAA5B,EAAKT,MAAMC,MAAMS,SAGrB,EAAKC,MAAMC,SAAS,EAAKZ,MAAMC,OAC/B,EAAKG,SAAS,CAAEH,MAAO,O,4CAIzB,WACE,OACE,wBAAQY,UAAWC,IAAMf,UAAzB,SACE,uBAAMc,UAAWC,IAAMC,WAAYH,SAAUI,KAAKR,aAAlD,UACE,wBACES,KAAK,SACLJ,UAAWC,IAAMI,kBAFnB,SAIE,sBAAML,UAAWC,IAAMK,wBAAvB,sBAGF,uBACEC,SAAUJ,KAAKd,WACfW,UAAWC,IAAMO,iBACjBJ,KAAK,OAGLK,YAAY,sC,GAvCeC,a,kCCFxB,SAASC,EAAT,GAAkC,IAAPC,EAAM,EAANA,IACxC,OAAO,qBAAKA,IAAKA,EAAKZ,UAAWC,IAAMY,uBAAwBC,IAAI,WCAtD,SAASC,EAAT,GAAmC,IAAXC,EAAU,EAAVA,OACrC,OACE,mCAEsB,IAAlBA,EAAOC,QAAgB,oBAAIjB,UAAWC,IAAMc,aAArB,SAEnBC,EAAOE,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,aAAP,OACT,6BACE,cAACT,EAAD,CAAkBC,IAAKQ,KADhBD,U,qBCRR,SAASE,EAAT,GAA4B,IAAXC,EAAU,EAAVA,QAC5B,OAAQ,wBAAQlB,KAAK,SAASJ,UAAWC,IAAMoB,OAAQC,QAASA,EAAxD,uB,qBCCNC,EAAYC,SAASC,eAAe,cAErBC,E,4MAenBC,qBAAuB,SAAArC,GACN,WAAXA,EAAEsC,MAAmB,EAAK9B,MAAM+B,W,EAGtCC,oBAAsB,SAACxC,GACjBA,EAAEyC,SAAWzC,EAAEE,eAAe,EAAKM,MAAM+B,W,uDAb/C,WACEG,OAAOC,iBAAiB,UAAW9B,KAAKwB,wB,kCAG1C,WACEK,OAAOE,oBAAoB,UAAW/B,KAAKwB,wB,oBAU7C,WACE,OAAOQ,uBACL,qBAAKnC,UAAWC,IAAMmC,QAASd,QAASnB,KAAK2B,oBAA7C,SACE,qBAAK9B,UAAWC,IAAMyB,MAAOW,MAAM,MAAMC,OAAO,MAAhD,SACE,qBAAK1B,IAAKT,KAAKL,MAAMc,IAAKE,IAAI,eAGlCS,O,GA7B6Bb,a,uBCJpB,SAAS6B,IACtB,OACE,cAAC,IAAD,CACEnC,KAAK,OACLoC,MAAM,UACNC,OAAQ,IACRJ,MAAO,IACPK,QAAS,MCVA,SAASC,EAAYvD,EAAOwD,GACvC,OAAOC,MAAM,8BAAD,OACoBzD,EADpB,iBACkCwD,EADlC,gGAGTE,MAAK,SAACC,GAAD,OAAOA,EAAEC,U,ICKfC,E,4MACJ9D,MAAQ,CACN6B,OAAQ,GACR5B,MAAO,GACPwD,KAAM,EACNM,WAAW,EACXC,YAAY,EAEZC,MAAO,M,EA4BTvB,QAAU,WACR,EAAKtC,SAAS,CAAE2D,WAAW,K,EAG7BG,iBAAmB,SAACjE,GAClB,EAAKG,SAAS,CAAEH,UAChB,EAAKG,SAAS,CAAEqD,KAAM,K,EAGxBU,cAAgB,SAAChE,GACfA,EAAEM,iBACF,EAAKL,UAAS,SAACgE,GACb,MAAO,CAAEX,KAAMW,EAAUX,KAAO,O,EAIpCY,aAAe,WACb,EAAKjE,SAAS,CAAE4D,YAAY,IAE5BR,EAAY,EAAKxD,MAAMC,MAAO,EAAKD,MAAMyD,MACtCE,MAAK,SAACW,GACL,GAAkB,IAAdA,EAAIC,MAKN,OAJA,EAAKnE,SAAS,CAAE4D,YAAY,SAC5BQ,MACE,4XAIJ,IAAMC,EAAQH,EAAII,KAAK3C,KAAI,YACzB,MAAO,CAAEC,GADyD,EAAtCA,GACf2C,cADqD,EAAlCA,cACJ1C,aADsC,EAAnBA,iBAGjD,EAAK7B,SAAS,CAAEyB,OAAO,GAAD,mBAAM,EAAK7B,MAAM6B,QAAjB,YAA4B4C,MAClD,EAAKrE,SAAS,CAAE4D,YAAY,IAC5BnB,OAAO+B,SAAS,CACdC,IAAKxC,SAASyC,gBAAgBC,aAC9BC,SAAU,cAGbC,OAAM,SAAC9E,GACNqE,MAAM,oH,uDAhEZ,WAAqB,IAAD,OAClB3B,OAAOC,iBAAiB,SAAS,SAAC3C,GAChC,IAAM+E,EAAU/E,EAAEyC,OAAOnB,IACnB0D,EAAkB,EAAKnF,MAAM6B,OAAOuD,MACxC,SAACjF,GAAD,OAAOA,EAAE8B,eAAiBiD,KAExBC,IACF,EAAK/E,SAAS,CAAE6D,MAAOkB,EAAgBR,gBACvC,EAAKvE,SAAS,CAAE2D,WAAW,U,gCAKjC,SAAmBsB,EAAWjB,GACxBA,EAAUnE,QAAUe,KAAKhB,MAAMC,OACjCe,KAAKZ,SAAS,CAAEyB,OAAQ,KACxBb,KAAKqD,gBAEuB,KAA5BrD,KAAKhB,MAAMC,MAAMS,QACjBM,KAAKhB,MAAMyD,OAASW,EAAUX,MAE9BzC,KAAKqD,iB,oBA+CT,WACE,MAAiDrD,KAAKhB,MAA9C+D,EAAR,EAAQA,UAAWE,EAAnB,EAAmBA,MAAOpC,EAA1B,EAA0BA,OAAQmC,EAAlC,EAAkCA,WAClC,OACE,sBAAKnD,UAAWC,IAAMgD,IAAtB,UACE,cAAC,EAAD,CAAWlD,SAAUI,KAAKkD,mBAC1B,cAACtC,EAAD,CAAcC,OAAQA,IAErBA,EAAOC,QAAU,IAAM,cAACI,EAAD,CAAQC,QAASnB,KAAKmD,gBAC7CJ,GAAa,cAAC,EAAD,CAAOtC,IAAKwC,EAAOvB,QAAS1B,KAAK0B,UAC9CsB,GACC,qBAAKnD,UAAWC,IAAMwE,QAAtB,SACE,cAAC,EAAD,a,GA1FM/D,aAiGHuC,ICtGfyB,IAASC,OAEL,cAAC,EAAD,IAGFnD,SAASC,eAAe,U,kBCR1BzC,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,kBAAoB,qCAAqC,wBAA0B,2CAA2C,iBAAmB,uC","file":"static/js/main.224edced.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3HC09\",\"centred\":\"App_centred__xq1RN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2e4vJ\",\"Modal\":\"Modal_Modal__3CCFs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3sUTs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2Jur_\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1A3wt\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__2HrxD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__335OI\"};","import { Component } from \"react\";\r\nimport style from \"./Searchbar.module.css\";\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  }\r\n\r\n  searchItem = (e) => {\r\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\r\n  };\r\n  searchButton = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.query.trim() === \"\") {\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n\r\n  render() {\r\n    return (\r\n      <header className={style.Searchbar}>\r\n        <form className={style.SearchForm} onSubmit={this.searchButton}>\r\n          <button\r\n            type=\"submit\"\r\n            className={style.SearchForm_button}\r\n          >\r\n            <span className={style.SearchForm_button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.searchItem}\r\n            className={style.SearchForm_input}\r\n            type=\"text\"\r\n              // autocomplete=\"off\"\r\n              // autofocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import PropTypes from \"prop-types\";\r\nimport style from \"./ImageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem({src}) {\r\n  return <img src={src} className={style.ImageGalleryItem_image} alt=\"images\" />;\r\n}\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport style from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\n\r\nexport default function ImageGallery({ images }) {\r\n  return (\r\n    <>\r\n      {\r\n        images.length !== 0 && <ul className={style.ImageGallery}>\r\n          {\r\n            images.map(({ id, webformatURL }) => (\r\n              <li key={id}>\r\n                <ImageGalleryItem src={webformatURL} />\r\n              </li>\r\n            ))}\r\n        </ul>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.object),\r\n};\r\n","import PropTypes from 'prop-types'\r\nimport style from \"./Button.module.css\"\r\n\r\nexport default function Button({onClick}) {\r\n    return (<button type=\"button\" className={style.Button} onClick={onClick}>Load more</button>)\r\n}\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n}","import { Component } from \"react\";\r\nimport PropTypes from 'prop-types'\r\nimport { createPortal } from \"react-dom\";\r\nimport style from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.getElementById(\"modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    src: PropTypes.string.isRequired,\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.closeModalByClickESC)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.closeModalByClickESC)\r\n  }\r\n\r\n  closeModalByClickESC = e => {\r\n    if (e.code === \"Escape\") this.props.onClose()\r\n  }\r\n\r\n  handleClickBackdrop = (e) => {\r\n    if (e.target === e.currentTarget) this.props.onClose();\r\n  };\r\n  render() {\r\n    return createPortal(\r\n      <div className={style.Overlay} onClick={this.handleClickBackdrop}>\r\n        <div className={style.Modal} width=\"300\" heigth=\"300\">\r\n          <img src={this.props.src} alt=\"images\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default function LoaderFoo() {\r\n  return (\r\n    <Loader\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={100000} //3 secs\r\n    />\r\n  );\r\n}\r\n","export default function fetchImages(query, page) {\r\n    return fetch(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=23320531-e67f94e9f6229e6b46894ace7&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n      .then((r) => r.json())\r\n}","import style from \"./App.module.css\";\r\nimport React, { Component } from \"react\";\r\nimport Searchbar from \"./Components/Searchbar\";\r\nimport ImageGallery from \"./Components/ImageGallery\";\r\nimport Button from \"./Components/Button\";\r\nimport Modal from \"./Components/Modal\";\r\nimport Loader from \"./Components/Loader\";\r\nimport fetchImages from \"./Components/fetchImages\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    images: [],\r\n    query: \"\",\r\n    page: 1,\r\n    showModal: false,\r\n    showSpiner: false,\r\n\r\n    large: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"click\", (e) => {\r\n      const findImg = e.target.src;\r\n      const findImgforModal = this.state.images.find(\r\n        (e) => e.webformatURL === findImg\r\n      );\r\n      if (findImgforModal) {\r\n        this.setState({ large: findImgforModal.largeImageURL });\r\n        this.setState({ showModal: true });\r\n      }\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.query !== this.state.query) {\r\n      this.setState({ images: [] });\r\n      this.fetchRequest();\r\n    } else if (\r\n      this.state.query.trim() !== \"\" &&\r\n      this.state.page !== prevState.page\r\n    ) {\r\n      this.fetchRequest();\r\n    }\r\n  }\r\n\r\n  onClose = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n\r\n  handleFormSubmit = (query) => {\r\n    this.setState({ query });\r\n    this.setState({ page: 1 });\r\n  };\r\n\r\n  clickLoadMore = (e) => {\r\n    e.preventDefault();\r\n    this.setState((prevState) => {\r\n      return { page: prevState.page + 1 };\r\n    });\r\n  };\r\n\r\n  fetchRequest = () => {\r\n    this.setState({ showSpiner: true });\r\n\r\n    fetchImages(this.state.query, this.state.page)\r\n      .then((hit) => {\r\n        if (hit.total === 0) {\r\n          this.setState({ showSpiner: false });\r\n          alert(\r\n            \"По данному запросу ничего не найдено, сделайте запрос более специфичным\"\r\n          );\r\n          return;\r\n        }\r\n        const arrEx = hit.hits.map(({ id, largeImageURL, webformatURL }) => {\r\n          return { id, largeImageURL, webformatURL };\r\n        });\r\n        this.setState({ images: [...this.state.images, ...arrEx] });\r\n        this.setState({ showSpiner: false });\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      })\r\n      .catch((e) => {\r\n        alert(\"Ой, что-то пошло не так\");\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { showModal, large, images, showSpiner } = this.state;\r\n    return (\r\n      <div className={style.App}>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        <ImageGallery images={images} />\r\n\r\n        {images.length >= 12 && <Button onClick={this.clickLoadMore} />}\r\n        {showModal && <Modal src={large} onClose={this.onClose} />}\r\n        {showSpiner && (\r\n          <div className={style.centred}>\r\n            <Loader />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  // <React.StrictMode>\n    <App/>\n  // </React.StrictMode>\n  ,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1HqzR\",\"SearchForm\":\"Searchbar_SearchForm__11Ns3\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2dvi-\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__39IBQ\",\"SearchForm_input\":\"Searchbar_SearchForm_input__1D-TL\"};"],"sourceRoot":""}