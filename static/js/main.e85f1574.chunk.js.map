{"version":3,"sources":["Components/ImageGallery/ImageGallery.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","App.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Modal/Modal.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","searchItem","e","setState","currentTarget","value","toLowerCase","searchButton","preventDefault","trim","props","onSubmit","className","style","SearchForm","this","type","SearchForm_button","onClick","SearchForm_button_label","onChange","SearchForm_input","placeholder","Component","ImageGalleryItem","src","alt","key","ImageGalleryItem_image","ImageGallery","isDone","showSpiner","fetchRequest","fetch","page","then","r","json","hit","saveImg","JSON","parse","localStorage","getItem","push","hits","setItem","stringify","prevProps","prevState","images","length","map","webformatURL","user","id","centred","color","height","width","timeout","Button","modalRoot","document","getElementById","Modal","closeModalByClickESC","code","onClose","handleClickBackdrop","target","window","addEventListener","removeEventListener","createPortal","Overlay","heigth","App","showModal","large","handleFormSubmit","clickLoadMore","isViewBtnfoo","findImg","findImgforModal","find","largeImageURL","ReactDOM","render"],"mappings":"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","file":"static/js/main.e85f1574.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3sUTs\",\"centred\":\"ImageGallery_centred__3SyoC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2Jur_\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1A3wt\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__2HrxD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2e4vJ\",\"Modal\":\"Modal_Modal__3CCFs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3HC09\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__335OI\"};","import { Component } from \"react\";\r\nimport style from \"./Searchbar.module.css\"\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  searchItem = (e) => {\r\n      this.setState({ query: e.currentTarget.value.toLowerCase() });\r\n  };\r\n  searchButton = (e) => {\r\n      e.preventDefault();\r\n      if (this.state.query.trim() === \"\") {\r\n          return\r\n      }\r\n      this.props.onSubmit(this.state.query)\r\n      this.setState({query: \"\"})\r\n  };\r\n  render() {\r\n    return (\r\n      <header className={style.Searchbar}>\r\n        <form className={style.SearchForm} onSubmit={this.searchButton}>\r\n          <button\r\n            type=\"submit\"\r\n            className={style.SearchForm_button}\r\n            onClick={this.searchButton}\r\n          >\r\n            <span className={style.SearchForm_button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.searchItem}\r\n            className={style.SearchForm_input}\r\n            type=\"text\"\r\n            //   autocomplete=\"off\"\r\n            //   autofocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import style from \"./ImageGalleryItem.module.css\"\r\n\r\nexport default function ImageGalleryItem(props) {\r\n  const {src, alt, key} = props\r\n    return (<li key={key} className={style.ImageGalleryItem}>\r\n  <img  src={src} alt={alt} className={style.ImageGalleryItem_image}  />\r\n</li>)\r\n}","import { Component } from \"react\";\r\nimport style from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    isDone: false,\r\n    showSpiner: false,\r\n  };\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.query !== this.props.query) {\r\n      localStorage.setItem(\"images\", \"[]\");\r\n      this.fetchRequest();\r\n    } else if (\r\n      this.props.query.trim() !== \"\" &&\r\n      this.props.page !== prevProps.page\r\n    ) {\r\n      this.fetchRequest();\r\n    }\r\n  }\r\n\r\n  fetchRequest = () => {\r\n    this.setState({ showSpiner: true });\r\n    fetch(\r\n      `https://pixabay.com/api/?q=${this.props.query}&page=${this.props.page}&key=23320531-e67f94e9f6229e6b46894ace7&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n      .then((r) => r.json())\r\n      .then((hit) => {\r\n        const saveImg = JSON.parse(localStorage.getItem(\"images\"));\r\n        saveImg.push(...hit.hits);\r\n        localStorage.setItem(\"images\", JSON.stringify(saveImg));\r\n        this.setState({ showSpiner: false });\r\n        this.setState({ isDone: true });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const images = JSON.parse(localStorage.getItem(\"images\"));\r\n\r\n    return (\r\n      <>\r\n        {this.state.isDone && (\r\n          <ul className={style.ImageGallery}>\r\n            {images.length !== 0 &&\r\n              images.map((e) => (\r\n                <ImageGalleryItem\r\n                  key={e.id}\r\n                  src={e.webformatURL}\r\n                  alt={e.user}\r\n                />\r\n              ))}\r\n          </ul>\r\n        )}\r\n        {this.state.showSpiner && (\r\n          <div className={style.centred}>\r\n            <Loader\r\n              type=\"Puff\"\r\n              color=\"#00BFFF\"\r\n              height={100}\r\n              width={100}\r\n              timeout={100000} //3 secs\r\n            />\r\n          </div>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import style from \"./Button.module.css\"\r\n\r\nexport default function Button({onClick}) {\r\n    return (<button type=\"button\" className={style.Button} onClick={onClick}>Load more</button>)\r\n}","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport style from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.getElementById(\"modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.closeModalByClickESC)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.closeModalByClickESC)\r\n  }\r\n\r\n  closeModalByClickESC = e => {\r\n    if (e.code === \"Escape\") this.props.onClose()\r\n  }\r\n\r\n  handleClickBackdrop = (e) => {\r\n    if (e.target === e.currentTarget) this.props.onClose();\r\n  };\r\n  render() {\r\n    return createPortal(\r\n      <div className={style.Overlay} onClick={this.handleClickBackdrop}>\r\n        <div className={style.Modal} width=\"300\" heigth=\"300\">\r\n          <img src={this.props.src} alt={this.props.alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import style from \"./App.module.css\";\r\nimport React, { Component } from \"react\";\r\nimport Searchbar from \"./Components/Searchbar\";\r\nimport ImageGallery from \"./Components/ImageGallery\";\r\nimport Button from \"./Components/Button\";\r\nimport Modal from \"./Components/Modal\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    query: \"\",\r\n    page: 1,\r\n    showModal: false,\r\n\r\n    large: null,\r\n    alt: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    // if (localStorage.getItem)\r\n    localStorage.setItem(\"images\", \"[]\");\r\n    window.addEventListener(\"click\", (e) => {\r\n      const findImg = e.target.src;\r\n      const arrImg = JSON.parse(localStorage.getItem(\"images\"));\r\n      const findImgforModal = arrImg.find((e) => e.webformatURL === findImg);\r\n      if (findImgforModal) {\r\n        this.setState({ large: findImgforModal.largeImageURL });\r\n        this.setState({ alt: findImgforModal.user });\r\n        this.setState({ showModal: true });\r\n      }\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) { \r\n    // window.scrollTo({\r\n    //   top: document.documentElement.scrollHeight,\r\n    //   behavior: \"smooth\",\r\n    // });\r\n  }\r\n\r\n  onClose = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n\r\n  handleFormSubmit = (query) => {\r\n    this.setState({ query });\r\n    this.setState({ page: 1 });\r\n  };\r\n\r\n  clickLoadMore = (e) => {\r\n    e.preventDefault();\r\n    this.setState((prevState) => {\r\n      return { page: prevState.page + 1 };\r\n    });\r\n  };\r\n\r\n  isViewBtnfoo = () => {};\r\n\r\n  render() {\r\n    const { showModal, large, alt, query } = this.state;\r\n    return (\r\n      <div className={style.App}>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        <ImageGallery query={this.state.query} page={this.state.page} />\r\n\r\n        {query !== \"\"  && <Button onClick={this.clickLoadMore} />}\r\n        {showModal && <Modal src={large} onClose={this.onClose} alt={alt} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  // <React.StrictMode>\n    <App/>\n  // </React.StrictMode>\n  ,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1HqzR\",\"SearchForm\":\"Searchbar_SearchForm__11Ns3\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2dvi-\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__39IBQ\",\"SearchForm_input\":\"Searchbar_SearchForm_input__1D-TL\"};"],"sourceRoot":""}